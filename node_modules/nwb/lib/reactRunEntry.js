'use strict';

var _nwbReactRunEntry = require('nwb-react-run-entry');

var _nwbReactRunEntry2 = _interopRequireDefault(_nwbReactRunEntry);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var alreadyRendered = document.getElementById(NWB_REACT_RUN_MOUNT_ID).childNodes.length > 0; // eslint-disable-line no-undef

function render(Component) {
  // Don't attempt to render if there was already something rendered,
  // or if nothing was exported (assumption: they rendered somewhere else and
  // didn't export anything)
  if (alreadyRendered || !(typeof Component === 'function' || Object.keys(Component).length > 0)) {
    return;
  }

  // Assumption: either a React component or element was exported
  // If a React component was exported, create an element
  if (typeof Component === 'function' || !(Component.type && Component.props)) {
    Component = _react2.default.createElement(Component);
  }

  // Component should now be a React element
  _reactDom2.default.render(Component, document.getElementById(NWB_REACT_RUN_MOUNT_ID)); // eslint-disable-line no-undef
}

render(_nwbReactRunEntry2.default);

if (module.hot) {
  module.hot.accept('nwb-react-run-entry', function () {
    render(require('nwb-react-run-entry'));
  });
}